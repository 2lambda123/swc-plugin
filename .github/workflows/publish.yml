name: Publish CI

on: [push]

jobs:
  publish-to-crates:
    runs-on: ubuntu-22.04
    
    steps:
      - name: Install Taplo
        uses: jaxxstorm/action-install-gh-release@v1.10.0
        with:
          repo: tamasfe/taplo
          tag: "0.8.0"
          extension: "\\.gz"
          rename-to: taplo
          arch: x86_64
          chmod: 0755
      
      - name: Checkout
        uses: actions/checkout@v3
      
      - run: "echo $(taplo get -f Cargo.toml 'package.version')"
